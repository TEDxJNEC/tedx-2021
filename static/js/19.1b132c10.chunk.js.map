{"version":3,"sources":["assets/Login.svg","components/dashboard/AdminLogin.jsx","pages/admin/login.jsx"],"names":["AdminLogin","useState","username","password","info","setinfo","EVENT_USER_LOGIN","API_ROUTES","STREAM","ROUTES","history","useHistory","inputEvent","event","target","value","name","preVal","className","src","img","alt","onSubmit","preventDefault","payload","axios","post","process","then","resp","localStorage","setItem","data","token","user","email","push","catch","err","console","log","type","required","autoComplete","onChange","Login"],"mappings":"uKAAe,G,OAAA,IAA0B,mC,8CC4F1BA,EApFI,WAAO,IAAD,EACCC,mBAAS,CAC/BC,SAAU,GACVC,SAAU,KAHW,mBAChBC,EADgB,KACVC,EADU,KAMfC,EAAqBC,IAArBD,iBACAE,EAAWC,IAAXD,OACFE,EAAUC,cAEVC,EAAa,SAACC,GAAU,MAGJA,EAAMC,OAAtBC,EAHoB,EAGpBA,MAAOC,EAHa,EAGbA,KAEfX,GAAQ,SAACY,GACP,MAAa,aAATD,EACK,CACLd,SAAUa,EACVZ,SAAUc,EAAOd,UAGR,aAATa,EACK,CACLd,SAAUe,EAAOf,SACjBC,SAAUY,GAGP,SAqBX,OACE,sBAAKG,UAAU,QAAf,UACE,qBAAKA,UAAU,SAAf,SACE,qBAAKC,IAAKC,EAAKF,UAAU,QAAQG,IAAI,aAGvC,uBAAMC,SAvBW,SAACT,GACpBA,EAAMU,iBACN,IAAMC,EAAU,CACdtB,SAAUE,EAAKF,SACfC,SAAUC,EAAKD,UAEjBsB,IACGC,KADH,UACWC,2BADX,YACgDrB,GAAoBkB,GACjEI,MAAK,SAACC,GACLC,aAAaC,QAAQ,aAAcF,EAAKG,KAAKC,OAC7CH,aAAaC,QAAQ,aAAcF,EAAKG,KAAKE,KAAKC,OAClDzB,EAAQ0B,KAAK5B,MAGd6B,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAS5B,UACE,6CACA,sBAAKpB,UAAU,cAAf,UACE,uBACEuB,KAAK,OACLzB,KAAK,WACL0B,SAAS,WACTC,aAAa,MACbC,SAAUhC,EACVG,MAAOX,EAAKF,WAEd,+CAEF,sBAAKgB,UAAU,cAAf,UACE,uBACEuB,KAAK,WACLzB,KAAK,WACL0B,SAAS,WACTE,SAAUhC,EACVG,MAAOX,EAAKD,WAEd,+CAEF,wBAAQsC,KAAK,SAAb,2BCxEOI,UAVD,WACZ,OACE,mCACE,cAAC,IAAD,UACE,cAAC,EAAD","file":"static/js/19.1b132c10.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Login.8cabaaef.svg\";","import React, { useState } from 'react';\nimport 'common/admin_login.scss';\nimport img from 'assets/Login.svg';\nimport axios from 'axios';\nimport API_ROUTES from 'constants/api';\nimport { useHistory } from 'react-router-dom';\nimport ROUTES from 'constants/routes';\n\nconst AdminLogin = () => {\n  const [info, setinfo] = useState({\n    username: '',\n    password: '',\n  });\n\n  const { EVENT_USER_LOGIN } = API_ROUTES;\n  const { STREAM } = ROUTES;\n  const history = useHistory();\n\n  const inputEvent = (event) => {\n    // console.log(event.target.name);\n    // console.log(event.target.value);\n    const { value, name } = event.target;\n\n    setinfo((preVal) => {\n      if (name === 'username') {\n        return {\n          username: value,\n          password: preVal.password,\n        };\n      }\n      if (name === 'password') {\n        return {\n          username: preVal.username,\n          password: value,\n        };\n      }\n      return null;\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const payload = {\n      username: info.username,\n      password: info.password,\n    };\n    axios\n      .post(`${process.env.REACT_APP_BACKEND_URL}/${EVENT_USER_LOGIN}`, payload)\n      .then((resp) => {\n        localStorage.setItem('eventToken', resp.data.token);\n        localStorage.setItem('eventEmail', resp.data.user.email);\n        history.push(STREAM);\n      })\n      // eslint-disable-next-line no-console\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"design\">\n        <img src={img} className=\"image\" alt=\"design\" />\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        <h2>Event LogIn</h2>\n        <div className=\"input-group\">\n          <input\n            type=\"text\"\n            name=\"username\"\n            required=\"required\"\n            autoComplete=\"off\"\n            onChange={inputEvent}\n            value={info.username}\n          />\n          <span>Username</span>\n        </div>\n        <div className=\"input-group\">\n          <input\n            type=\"Password\"\n            name=\"password\"\n            required=\"required\"\n            onChange={inputEvent}\n            value={info.password}\n          />\n          <span>Password</span>\n        </div>\n        <button type=\"submit\">LOG IN</button>\n      </form>\n    </div>\n  );\n};\n\nexport default AdminLogin;\n","import React from 'react';\nimport DefaultLayout from '../../layouts';\nimport AdminLogin from '../../components/dashboard/AdminLogin';\n\nconst Login = () => {\n  return (\n    <>\n      <DefaultLayout>\n        <AdminLogin />\n      </DefaultLayout>\n    </>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}